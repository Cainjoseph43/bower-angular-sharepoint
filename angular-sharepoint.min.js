"use strict";angular.module("ExpertsInside.SharePoint",["ng"]).run(function(){var a=angular.$$minErr("sharepoint");if(angular.isUndefined(ShareCoffee))throw a("noShareCoffee","angular-sharepoint depends on ShareCoffee to do its job.Either include the bundled ShareCoffee + angular-sharepoint file or include ShareCoffe seperately before angular-sharepoint.")}),angular.module("ExpertsInside.SharePoint").factory("$spList",["$spRest","$http",function(a,b){function c(a,b){if(!a)throw e("badargs","name cannot be blank.");this.name=a.toString();var c=this.name.charAt(0).toUpperCase()+this.name.slice(1);this.defaults=angular.extend({itemType:"SP.Data."+c+"ListItem"},b),this.queries={}}function d(a,b){return new c(a,b)}var e=angular.$$minErr("$spList");return c.prototype={$baseUrl:function(){return"web/lists/getByTitle('"+this.name+"')"},$buildHttpConfig:function(b,c,d){var e,f=this.$baseUrl();switch(b){case"get":e=ShareCoffee.REST.build.read.for.angularJS({url:f+"/items("+d+")"});break;case"query":e=ShareCoffee.REST.build.read.for.angularJS({url:f+"/items"});break;case"create":e=ShareCoffee.REST.build.create.for.angularJS({url:f+"/items",payload:angular.toJson(d)});break;case"save":e=ShareCoffee.REST.build.update.for.angularJS({url:f,payload:angular.toJson(d)}),e.url=d.__metadata.uri;break;case"delete":e=ShareCoffee.REST.build.delete.for.angularJS({url:f}),e.url=d.__metadata.uri}return e.url=a.appendQueryString(e.url,c),e.transformResponse=a.transformResponse,e},$createResult:function(a,c){var d=a;return d.$promise=b(c).success(function(a){return angular.extend(d,a),d}),d},get:function(a,b){if(angular.isUndefined(a))throw e("badargs","id is required.");var c=this.$buildHttpConfig("get",b,a);return this.$createResult({Id:a},c)},query:function(a){var b=this.$buildHttpConfig("query",a);return this.$createResult([],b)},create:function(a){var b=this.defaults.itemType;if(!b)throw e("badargs","Cannot create an item without a valid type.Please set the default item type on the list (list.defaults.itemType).");var c={__metadata:{type:b}},d=angular.extend({},c,a),f=this.$buildHttpConfig("create",void 0,d);return this.$createResult(d,f)},save:function(a){if(angular.isUndefined(a.__metadata))throw e("badargs","Item must have __metadata property.");var b=this.$buildHttpConfig("save",void 0,a);return this.$createResult(a,b)},"delete":function(a){if(angular.isUndefined(a.__metadata))throw e("badargs","Item must have __metadata property.");var b=this.$buildHttpConfig("delete",void 0,a);return this.$createResult(a,b)},addNamedQuery:function(a,b){var c=this;return this.queries[a]=function(){var a=b.apply(c,arguments);return c.query(a)},c}},d.List=c,d}]),angular.module("ExpertsInside.SharePoint").factory("$spPageContextInfo",["$rootScope","$window",function(a,b){var c={};return angular.copy(b._spPageContextInfo,c),a.$watch(function(){return b._spPageContextInfo},function(a){angular.copy(a,c)},!0),c}]),angular.module("ExpertsInside.SharePoint").factory("$spRest",["$log",function(a){function b(a){var b=[];if(angular.isUndefined(a)||null===a)return b;for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}var c=["$select","$filter","$orderby","$top","$skip","$expand","$sort"],d={transformResponse:function(a){var b={};return angular.isDefined(a)&&null!==a&&""!==a&&(b=angular.fromJson(a)),angular.isObject(b)&&angular.isDefined(b.d)&&(b=b.d),angular.isObject(b)&&angular.isDefined(b.results)&&(b=b.results),b},buildQueryString:function(a){var c=[],d=b(a);angular.forEach(d,function(b){var d=a[b];null===d||angular.isUndefined(d)||(angular.isArray(d)&&(d=d.join(",")),angular.isObject(d)&&(d=angular.toJson(d)),c.push(b+"="+d))});var e=c.join("&");return e},normalizeParams:function(b){return b=angular.extend({},b),angular.isDefined(b)&&angular.forEach(b,function(d,e){0!==e.indexOf("$")&&(delete b[e],e="$"+e,b[e]=d),-1===c.indexOf(e)&&(a.warn("Invalid param key: "+e),delete b[e])}),(null===b||"{}"===JSON.stringify(b))&&(b=void 0),b},appendQueryString:function(a,b){b=d.normalizeParams(b);var c=d.buildQueryString(b);return""!==c&&(a+=(-1===a.indexOf("?")?"?":"&")+c),a}};return d}]);
//# sourceMappingURL=angular-sharepoint.min.map